{"mappings":"AAEA,MAAMA,EAAO,CACTC,KAAMC,SAASC,cAAc,kBAC7BC,MAAOF,SAASC,cAAc,kBAC9BE,SAAUH,SAASC,cAAc,qBAGrCH,EAAKC,KAAKK,iBAAiB,QAASC,UAMpC,SAAqBC,GACjBA,EAAEC,iBACEC,EAAUF,EAAEG,OAAOC,MAAQJ,EAAEG,OAAOE,MACpCC,aAAaC,QAND,sBAMsBC,KAAKC,UAAUP,G,GATC,MAC1DV,EAAKC,KAAKK,iBAAiB,UAW3B,SAAsBE,GAGd,GAFJA,EAAEC,kBAEOT,EAAKI,MAAMS,QAAUb,EAAKK,SAASQ,MACpC,OAAOK,MAAM,kCAGrBV,EAAEG,OAAOQ,QACLC,QAAQC,IAAIL,KAAKM,MAAMR,aAAaS,QAjBxB,yBAkBZT,aAAaU,WAlBD,sB,IACpB,IAAId,EAAW,GAoBf,GAAII,aAAaS,QArBG,uBAsBhB,IACIb,EAAWM,KAAKM,MAAMR,aAAaS,QAvBvB,wBAyBZ,IAAK,MAAME,KAAOf,EAChBV,EAAKC,KAAKyB,SAASD,GAAKZ,MAAQH,EAASe,E,CAE7C,MAAOE,GACLP,QAAQC,IAAI,c","sources":["src/js/03-feedback.js"],"sourcesContent":["// import throttle from 'lodash.throttle';\n\nconst refs = {\n    form: document.querySelector('.feedback-form'),\n    input: document.querySelector('[name=\"email\"]'),\n    textarea: document.querySelector('[name=\"message\"]'),\n};\n\nrefs.form.addEventListener('input', throttle(onFormInput, 500));\nrefs.form.addEventListener('submit', onFormSubmit);\n\nconst STORAGE_KEY = 'feedback-form-state';\nlet formData = {};\n\nfunction onFormInput(e) {\n    e.preventDefault();\n        formData [e.target.name] = e.target.value;\n        localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n}\n\nfunction onFormSubmit(e) {\n    e.preventDefault();\n    \n        if (!refs.input.value || !refs.textarea.value) {\n            return alert('Все поля должны быть заполнены');\n        }\n\n    e.target.reset();\n        console.log(JSON.parse(localStorage.getItem(STORAGE_KEY)));\n        localStorage.removeItem(STORAGE_KEY);\n}\n    \nif (localStorage.getItem(STORAGE_KEY)) {\n    try {\n        formData = JSON.parse(localStorage.getItem(STORAGE_KEY));\n\n        for (const key in formData) {\n          refs.form.elements[key].value = formData[key];\n        }\n    } catch (err) {\n        console.log('Parse error');\n    }\n}\n"],"names":["$945622fd0f572e60$var$refs","form","document","querySelector","input","textarea","addEventListener","throttle","e","preventDefault","$945622fd0f572e60$var$formData","target","name","value","localStorage","setItem","JSON","stringify","alert","reset","console","log","parse","getItem","removeItem","key","elements","err"],"version":3,"file":"03-feedback.200262fc.js.map"}